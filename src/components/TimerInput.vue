<template>
  <div class="wrapper">
    <!-- HOURS INPUT -->
    <input v-model="data.hours" maxlength="2" ref="hoursInput" @input="onInputChange" @keyup.enter="startTimer" />
    <span class="time-period">h</span>

    <!-- MINUTE INPUT -->
    <input v-model="data.minutes" maxlength="2" @input="onInputChange" @keyup.enter="startTimer" />
    <span class="time-period">m</span>
  </div>
</template>

<script>
import { timerStore } from '@/store/timer'

export default {
  data() {
    return {
      data: timerStore.state.output
    }
  },
  methods: {
    onInputChange() {
      this.data.hours = this.data.hours.replace(/[^\d]+/g, '')
      this.data.minutes = this.data.minutes.replace(/[^\d]+/g, '')
    },
    startTimer() {
      timerStore.startTimer()
    }
  },
  mounted() {
    this.$refs.hoursInput.focus()
  }
}
</script>

<style scoped>
.wrapper {
  display: inline-block;
}

input {
  background-color: #eee;
  padding: 1rem;
  border: 1px solid var(--clr-accent);
  border-radius: var(--border-radius);
  font-size: var(--font-size-normal);
  color: #222831;
  width: 5rem;
  text-align: center;
}

.time-period {
  color: var(--clr-accent);
  font-size: var(--font-size-normal);
  vertical-align: middle;
  margin-right: 2rem;
  margin-left: 1rem;
}

.time-period:last-of-type {
  margin-right: 4rem;
}
</style>
